// <auto-generated>
//  automatically generated by the FlatBuffers compiler, do not modify
// </auto-generated>

namespace MyGame.Example
{

[System.Text.Json.Serialization.JsonConverter(typeof(System.Text.Json.Serialization.JsonStringEnumConverter))]
public enum Character : byte
{
  NONE = 0,
  MuLan = 1,
  Rapunzel = 2,
  Belle = 3,
  BookFan = 4,
  Other = 5,
  Unused = 6,
};

[System.Text.Json.Serialization.JsonConverter(typeof(CharacterUnion_JsonConverter))]
public class CharacterUnion {
  public Character Type { get; set; }
  public object Value { get; set; }

  public CharacterUnion() {
    this.Type = Character.NONE;
    this.Value = null;
  }

  public T As<T>() where T : class { return this.Value as T; }
  public MyGame.Example.AttackerT AsMuLan() { return this.As<MyGame.Example.AttackerT>(); }
  public static CharacterUnion FromMuLan(MyGame.Example.AttackerT _mulan) { return new CharacterUnion{ Type = Character.MuLan, Value = _mulan }; }
  public MyGame.Example.RapunzelT AsRapunzel() { return this.As<MyGame.Example.RapunzelT>(); }
  public static CharacterUnion FromRapunzel(MyGame.Example.RapunzelT _rapunzel) { return new CharacterUnion{ Type = Character.Rapunzel, Value = _rapunzel }; }
  public MyGame.Example.BookReaderT AsBelle() { return this.As<MyGame.Example.BookReaderT>(); }
  public static CharacterUnion FromBelle(MyGame.Example.BookReaderT _belle) { return new CharacterUnion{ Type = Character.Belle, Value = _belle }; }
  public MyGame.Example.BookReaderT AsBookFan() { return this.As<MyGame.Example.BookReaderT>(); }
  public static CharacterUnion FromBookFan(MyGame.Example.BookReaderT _bookfan) { return new CharacterUnion{ Type = Character.BookFan, Value = _bookfan }; }
  public string AsOther() { return this.As<string>(); }
  public static CharacterUnion FromOther(string _other) { return new CharacterUnion{ Type = Character.Other, Value = _other }; }
  public string AsUnused() { return this.As<string>(); }
  public static CharacterUnion FromUnused(string _unused) { return new CharacterUnion{ Type = Character.Unused, Value = _unused }; }

  public static int Pack(Google.FlatSpanBuffers.FlatBufferBuilder builder, CharacterUnion _o) {
    switch (_o.Type) {
      default: return 0;
      case Character.MuLan: return MyGame.Example.Attacker.Pack(builder, _o.AsMuLan()).Value;
      case Character.Rapunzel: return MyGame.Example.Rapunzel.Pack(builder, _o.AsRapunzel()).Value;
      case Character.Belle: return MyGame.Example.BookReader.Pack(builder, _o.AsBelle()).Value;
      case Character.BookFan: return MyGame.Example.BookReader.Pack(builder, _o.AsBookFan()).Value;
      case Character.Other: return builder.CreateString(_o.AsOther()).Value;
      case Character.Unused: return builder.CreateString(_o.AsUnused()).Value;
    }
  }
  public static int Pack(ref Google.FlatSpanBuffers.FlatSpanBufferBuilder builder, CharacterUnion _o) {
    switch (_o.Type) {
      default: return 0;
      case Character.MuLan: return MyGame.Example.StackBuffer.Attacker.Pack(ref builder, _o.AsMuLan()).Value;
      case Character.Rapunzel: return MyGame.Example.StackBuffer.Rapunzel.Pack(ref builder, _o.AsRapunzel()).Value;
      case Character.Belle: return MyGame.Example.StackBuffer.BookReader.Pack(ref builder, _o.AsBelle()).Value;
      case Character.BookFan: return MyGame.Example.StackBuffer.BookReader.Pack(ref builder, _o.AsBookFan()).Value;
      case Character.Other: return builder.CreateString(_o.AsOther()).Value;
      case Character.Unused: return builder.CreateString(_o.AsUnused()).Value;
    }
  }
}

public class CharacterUnion_JsonConverter : System.Text.Json.Serialization.JsonConverter<CharacterUnion> {
  public override CharacterUnion Read(ref System.Text.Json.Utf8JsonReader reader, System.Type typeToConvert, System.Text.Json.JsonSerializerOptions options) {
    if (reader.TokenType == System.Text.Json.JsonTokenType.Null) { reader.Read(); return null; }
    if (reader.TokenType != System.Text.Json.JsonTokenType.StartObject) throw new System.Text.Json.JsonException("Expected start of object for union type");
    Character unionType = Character.NONE;
    CharacterUnion result = new CharacterUnion();
    while (reader.Read()) {
      if (reader.TokenType == System.Text.Json.JsonTokenType.EndObject) break;
      if (reader.TokenType != System.Text.Json.JsonTokenType.PropertyName) continue;
      string propName = reader.GetString();
      reader.Read();
      if (propName == "Type") {
        string typeName = reader.GetString();
        if (System.Enum.TryParse<Character>(typeName, out var parsed)) unionType = parsed;
      } else if (propName == "Value") {
        result.Type = unionType;
        switch (unionType) {
          default: break;
          case Character.MuLan: result.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.AttackerT>(ref reader, options); break;
          case Character.Rapunzel: result.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.RapunzelT>(ref reader, options); break;
          case Character.Belle: result.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.BookReaderT>(ref reader, options); break;
          case Character.BookFan: result.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.BookReaderT>(ref reader, options); break;
          case Character.Other: result.Value = reader.GetString(); break;
          case Character.Unused: result.Value = reader.GetString(); break;
        }
      }
    }
    return result;
  }
  public CharacterUnion ReadWithTypeContext(ref System.Text.Json.Utf8JsonReader reader, CharacterUnion _o, System.Text.Json.JsonSerializerOptions options) {
    if (_o == null) return null;
    switch (_o.Type) {
      default: break;
      case Character.MuLan: _o.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.AttackerT>(ref reader, options); break;
      case Character.Rapunzel: _o.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.RapunzelT>(ref reader, options); break;
      case Character.Belle: _o.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.BookReaderT>(ref reader, options); break;
      case Character.BookFan: _o.Value = System.Text.Json.JsonSerializer.Deserialize<MyGame.Example.BookReaderT>(ref reader, options); break;
      case Character.Other: _o.Value = System.Text.Json.JsonSerializer.Deserialize<string>(ref reader, options); break;
      case Character.Unused: _o.Value = System.Text.Json.JsonSerializer.Deserialize<string>(ref reader, options); break;
    }
    return _o;
  }
  public override void Write(System.Text.Json.Utf8JsonWriter writer, CharacterUnion value, System.Text.Json.JsonSerializerOptions options) {
    if (value == null || value.Value == null) { writer.WriteNullValue(); return; }
    writer.WriteStartObject();
    writer.WriteString("Type", value.Type.ToString());
    writer.WritePropertyName("Value");
    System.Text.Json.JsonSerializer.Serialize(writer, value.Value, value.Value.GetType(), options);
    writer.WriteEndObject();
  }
}



static public class CharacterVerify
{
  static public bool Verify(ref Google.FlatSpanBuffers.Verifier verifier, byte typeId, uint tablePos)
  {
    bool result = true;
    switch((Character)typeId)
    {
      case Character.MuLan:
        result = MyGame.Example.AttackerVerify.Verify(ref verifier, tablePos);
        break;
      case Character.Rapunzel:
        result = verifier.VerifyUnionData(tablePos, 4, 4);
        break;
      case Character.Belle:
        result = verifier.VerifyUnionData(tablePos, 4, 4);
        break;
      case Character.BookFan:
        result = verifier.VerifyUnionData(tablePos, 4, 4);
        break;
      case Character.Other:
       result = verifier.VerifyUnionString(tablePos);
        break;
      case Character.Unused:
       result = verifier.VerifyUnionString(tablePos);
        break;
      default: result = true;
        break;
    }
    return result;
  }
}


}
